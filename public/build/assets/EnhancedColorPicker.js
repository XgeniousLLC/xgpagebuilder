import{r as a,R as x,j as t,C as f,f as C}from"./page-builder.js";const j=({value:s,onChange:c})=>{const[p,i]=a.useState(!1),[y,l]=a.useState(s||"#000000"),[n,o]=a.useState(!1),d=a.useRef(null),h=["#000000","#6B7280","#FFFFFF","#F78DA7","#EF4444","#F97316","#F59E0B","#10B981","#06D6A0","#0891B2","#3B82F6","#8B5CF6"],m=e=>({"#000000":"Black","#6B7280":"Gray","#FFFFFF":"White","#F78DA7":"Pale pink","#EF4444":"Red","#F97316":"Orange","#F59E0B":"Yellow","#10B981":"Green","#06D6A0":"Mint","#0891B2":"Teal","#3B82F6":"Blue","#8B5CF6":"Purple"})[e.toUpperCase()]||"Custom color",g=e=>e?e.startsWith("#")?e.length===4?e+e.slice(1):e.toUpperCase():"#"+e.toUpperCase():"#000000",u=e=>{const r=g(e);l(r),c(r),i(!1)},b=async e=>{e.stopPropagation();try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(s),o(!0),setTimeout(()=>o(!1),2e3),console.log("Copied to clipboard:",s);else{const r=document.createElement("textarea");r.value=s,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),o(!0),setTimeout(()=>o(!1),2e3),console.log("Copied to clipboard (fallback):",s)}}catch(r){console.error("Failed to copy:",r),o(!0),setTimeout(()=>o(!1),2e3)}};return x.useEffect(()=>{const e=r=>{d.current&&!d.current.contains(r.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),x.useEffect(()=>{l(s||"#000000")},[s]),t.jsxs("div",{className:"relative",ref:d,children:[t.jsxs("div",{className:"flex items-center gap-3 w-full p-3 border-2 border-gray-200 rounded-lg",children:[t.jsxs("button",{type:"button",onClick:()=>i(!p),className:"flex items-center gap-3 flex-1 cursor-pointer hover:opacity-80 transition-opacity",title:`Click to change color - ${m(s)} - ${s}`,children:[t.jsx("div",{className:"w-12 h-12 rounded-lg flex-shrink-0",style:{backgroundColor:s}}),t.jsx("div",{className:"text-left",children:t.jsx("div",{className:"text-sm text-gray-600 font-mono",children:s})})]}),t.jsxs("button",{type:"button",onClick:e=>{console.log("Copy button clicked!",s),b(e)},className:`p-2 rounded-md transition-all flex-shrink-0 relative ${n?"bg-green-100 text-green-700 hover:bg-green-200":"hover:bg-gray-100 text-gray-500"}`,title:n?"Copied!":"Copy hex code",children:[n?t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):t.jsx(f,{className:"w-4 h-4"}),n&&t.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded shadow-lg z-10",children:"Copied!"})]})]}),p&&t.jsxs("div",{className:"absolute top-full left-0 mt-2 p-4 bg-white border border-gray-200 rounded-lg shadow-lg z-50 w-72",children:[t.jsx("input",{type:"color",value:s,onChange:e=>{const r=e.target.value.toUpperCase();l(r),c(r)},className:"w-full h-12 border-2 border-gray-200 rounded-lg cursor-pointer mb-4"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Preset Colors"}),t.jsx("div",{className:"grid grid-cols-6 gap-2",children:h.map(e=>t.jsx("button",{type:"button",onClick:()=>u(e),className:`relative w-10 h-10 rounded-lg border-2 transition-all hover:scale-105 ${(s==null?void 0:s.toUpperCase())===(e==null?void 0:e.toUpperCase())?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,style:{backgroundColor:e},title:`${m(e)} - ${e}`,children:(s==null?void 0:s.toUpperCase())===(e==null?void 0:e.toUpperCase())&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(C,{className:"w-5 h-5 text-white drop-shadow-lg"})})},e))})]}),t.jsx("button",{type:"button",onClick:()=>u("#000000"),className:"w-full py-2 text-sm text-blue-600 hover:text-blue-800 font-medium hover:bg-blue-50 rounded-md transition-colors",children:"Clear"})]})]})};export{j as default};
