import{R as M,r as a,j as l,T as O,A as F}from"./page-builder.js";import{B as H,I as U,U as B}from"./underline.js";const D=M.memo(({value:d,onChange:m})=>{var b,g,h,j,N,_,w,T,C,z;const[E,p]=a.useState(null),[G,v]=a.useState(!1),o=a.useRef(null),f=a.useRef(null),x=e=>{const i={font_family:"inherit",font_size:{value:16,unit:"px"},font_weight:"400",font_style:"normal",text_transform:"none",text_decoration:"none",line_height:{value:1.4,unit:"em"},letter_spacing:{value:0,unit:"px"},word_spacing:{value:0,unit:"px"}};if(!e||typeof e!="object")return i;const r={...i};return Object.keys(i).forEach(n=>{e[n]!==void 0&&(typeof i[n]=="object"&&i[n]!==null?r[n]={...i[n],...typeof e[n]=="object"&&e[n]!==null?e[n]:{}}:r[n]=e[n])}),r};a.useEffect(()=>{const e=x(d);p(e)},[d]);const s=E||x(null);if(!s||!s.font_size||!s.line_height||!s.letter_spacing||!s.word_spacing)return l.jsxs("div",{className:"animate-pulse space-y-4 p-4",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})]});const u=a.useCallback(e=>{o.current&&clearTimeout(o.current),p(e),v(!0),o.current=setTimeout(()=>{JSON.stringify(e)!==JSON.stringify(f.current)&&(m(e),f.current=e),v(!1)},100)},[m]);a.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const I=a.useMemo(()=>[{value:"inherit",label:"Inherit"},{value:"Arial, sans-serif",label:"Arial"},{value:"Helvetica, sans-serif",label:"Helvetica"},{value:'"Helvetica Neue", Helvetica, Arial, sans-serif',label:"Helvetica Neue"},{value:"Georgia, serif",label:"Georgia"},{value:'"Times New Roman", serif',label:"Times New Roman"},{value:'"Courier New", monospace',label:"Courier New"},{value:"Verdana, sans-serif",label:"Verdana"},{value:"Tahoma, sans-serif",label:"Tahoma"},{value:'"Trebuchet MS", sans-serif',label:"Trebuchet MS"},{value:"Impact, sans-serif",label:"Impact"}],[]),R=a.useMemo(()=>[{value:"100",label:"Thin"},{value:"200",label:"Extra Light"},{value:"300",label:"Light"},{value:"400",label:"Normal"},{value:"500",label:"Medium"},{value:"600",label:"Semi Bold"},{value:"700",label:"Bold"},{value:"800",label:"Extra Bold"},{value:"900",label:"Black"}],[]),S=a.useMemo(()=>[{value:"none",label:"None"},{value:"uppercase",label:"Uppercase"},{value:"lowercase",label:"Lowercase"},{value:"capitalize",label:"Capitalize"}],[]),A=a.useMemo(()=>[{value:"none",label:"None"},{value:"underline",label:"Underline"},{value:"overline",label:"Overline"},{value:"line-through",label:"Line Through"}],[]),L=a.useMemo(()=>[{value:"normal",label:"Normal"},{value:"italic",label:"Italic"},{value:"oblique",label:"Oblique"}],[]),c=a.useCallback((e,i)=>{const r={...s,[e]:i};u(r)},[s,u]),t=a.useCallback((e,i,r)=>{const n={...s,[e]:{...s[e],[i]:r}};u(n)},[s,u]);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[l.jsx(O,{className:"w-4 h-4"}),"FAMILY"]}),l.jsx("select",{value:(s==null?void 0:s.font_family)??"inherit",onChange:e=>c("font_family",e.target.value),className:"w-full px-[5px] w-[50px] h-[30px] size-[10px] border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:I.map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SIZE"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"number",value:((b=s==null?void 0:s.font_size)==null?void 0:b.value)??16,onChange:e=>t("font_size","value",parseInt(e.target.value)||16),className:"flex-1 px-[5px] w-[50px] h-[30px] size-[10px] border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",min:"8",max:"200"}),l.jsxs("select",{value:((g=s==null?void 0:s.font_size)==null?void 0:g.unit)??"px",onChange:e=>t("font_size","unit",e.target.value),className:"w-[50px] h-[30px] size-[10px] border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"px",children:"px"}),l.jsx("option",{value:"em",children:"em"}),l.jsx("option",{value:"rem",children:"rm"}),l.jsx("option",{value:"%",children:"%"})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[l.jsx(H,{className:"w-4 h-4"}),"WEIGHT"]}),l.jsx("select",{value:(s==null?void 0:s.font_weight)??"400",onChange:e=>c("font_weight",e.target.value),className:"w-full px-[5px] w-[50px] h-[30px] size-[10px] border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:R.map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[l.jsx(U,{className:"w-4 h-4"}),"STYLE"]}),l.jsx("select",{value:(s==null?void 0:s.font_style)??"normal",onChange:e=>c("font_style",e.target.value),className:"w-full px-[5px] w-[50px] h-[30px] size-[10px] border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:L.map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"TRANSFORM"}),l.jsx("select",{value:(s==null?void 0:s.text_transform)??"none",onChange:e=>c("text_transform",e.target.value),className:"w-full px-[5px] w-[50px] h-[30px] size-[10px] border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:S.map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[l.jsx(B,{className:"w-4 h-4"}),"DECORATION"]}),l.jsx("select",{value:(s==null?void 0:s.text_decoration)??"none",onChange:e=>c("text_decoration",e.target.value),className:"w-full px-[5px] w-[50px] h-[30px] size-[10px] border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:A.map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))})]}),l.jsxs("div",{className:"block",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[l.jsx(F,{className:"w-4 h-4"}),"LINE HEIGHT"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"number",value:((h=s==null?void 0:s.line_height)==null?void 0:h.value)??1.4,onChange:e=>t("line_height","value",parseFloat(e.target.value)||1.4),className:"flex-1 px-[5px] w-[50px] h-[30px] size-[10px] border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0.5",max:"5",step:"0.1"}),l.jsxs("select",{value:((j=s==null?void 0:s.line_height)==null?void 0:j.unit)??"em",onChange:e=>t("line_height","unit",e.target.value),className:"w-[50px] h-[30px] size-[10px] border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"em",children:"em"}),l.jsx("option",{value:"px",children:"px"}),l.jsx("option",{value:"%",children:"%"})]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LETTER SPACING"}),l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"range",value:((N=s==null?void 0:s.letter_spacing)==null?void 0:N.value)??0,onChange:e=>t("letter_spacing","value",parseFloat(e.target.value)||0),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",min:"-10",max:"10",step:"0.1"}),l.jsxs("div",{className:"flex items-center gap-1 min-w-[70px]",children:[l.jsx("input",{type:"number",value:((_=s==null?void 0:s.letter_spacing)==null?void 0:_.value)??0,onChange:e=>t("letter_spacing","value",parseFloat(e.target.value)||0),className:"w-[45px] px-1 h-[25px] text-xs border border-gray-300 rounded text-center focus:outline-none focus:ring-1 focus:ring-blue-500",min:"-10",max:"10",step:"0.1"}),l.jsxs("select",{value:((w=s==null?void 0:s.letter_spacing)==null?void 0:w.unit)??"px",onChange:e=>t("letter_spacing","unit",e.target.value),className:"w-[45px] h-[25px] text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[l.jsx("option",{value:"px",children:"px"}),l.jsx("option",{value:"em",children:"em"})]})]})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WORD SPACING"}),l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"range",value:((T=s==null?void 0:s.word_spacing)==null?void 0:T.value)??0,onChange:e=>t("word_spacing","value",parseFloat(e.target.value)||0),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",min:"-10",max:"20",step:"0.1"}),l.jsxs("div",{className:"flex items-center gap-1 min-w-[70px]",children:[l.jsx("input",{type:"number",value:((C=s==null?void 0:s.word_spacing)==null?void 0:C.value)??0,onChange:e=>t("word_spacing","value",parseFloat(e.target.value)||0),className:"w-[45px] px-1 h-[25px] text-xs border border-gray-300 rounded text-center focus:outline-none focus:ring-1 focus:ring-blue-500",min:"-10",max:"20",step:"0.1"}),l.jsxs("select",{value:((z=s==null?void 0:s.word_spacing)==null?void 0:z.unit)??"px",onChange:e=>t("word_spacing","unit",e.target.value),className:"w-[45px] h-[25px] text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[l.jsx("option",{value:"px",children:"px"}),l.jsx("option",{value:"em",children:"em"})]})]})]})})]}),l.jsx("button",{type:"button",onClick:()=>{const e=x(null);u(e)},className:"w-full py-2 text-sm text-blue-600 hover:text-blue-800 font-medium hover:bg-blue-50 rounded-md transition-colors",children:"Reset Typography"})]})});export{D as default};
