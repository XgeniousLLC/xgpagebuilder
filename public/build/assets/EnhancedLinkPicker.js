import{c as o,r as c,F as I,j as e,g as q,h as U,S as W,i as F,P as H,M as L,k as O}from"./page-builder.js";/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],G=o("external-link",B);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K=o("eye",J);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],X=o("hash",Q);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Z=o("mail",Y);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],te=o("phone",ee);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ae=o("shield",se);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],le=o("tag",re);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ie=o("target",ne),me=({value:$={},onChange:g,enabledLinkTypes:m=["external","email","phone","file"],enableAdvancedOptions:v=!0,enableSEOControls:N=!0,enableUTMTracking:k=!1,enableCustomAttributes:_=!0,enableLinkTesting:ce=!0,enableResponsiveBehavior:T=!1,allowedTargets:h={_self:"Same Window",_blank:"New Window/Tab",_parent:"Parent Frame",_top:"Top Frame"},commonRelValues:R=["nofollow","noopener","noreferrer","sponsored"]})=>{const w=t=>{if(!t||typeof t!="object")return{};const s={};return Object.keys(t).forEach(a=>{t[a]===null?s[a]="":Array.isArray(t[a])?s[a]=t[a]:typeof t[a]=="object"?s[a]=w(t[a]):s[a]=t[a]}),s},V=w($),[r,y]=c.useState({url:"",text:"",type:"external",target:"_self",rel:[],title:"",id:"",class:"",custom_attributes:[],utm_parameters:{utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:""},responsive_behavior:{desktop_target:"_self",mobile_target:"_self"},...V}),[l,x]=c.useState("advanced"),[d,E]=c.useState({isValid:!0,message:""}),[oe,de]=c.useState(!1),C=c.useRef(g);c.useEffect(()=>{C.current=g},[g]),c.useEffect(()=>{C.current(r)},[r]),c.useEffect(()=>{if(!r.url)return;const t=r.url.toLowerCase();let s="external";t.includes("@")||t.startsWith("mailto:")?s="email":t.startsWith("tel:")||/^\+?\d[\d\s\-\(\)]*\d$/.test(t)?s="phone":t.startsWith("/")||t.startsWith("#")?s="internal":(t.includes(".pdf")||t.includes(".doc")||t.includes(".zip"))&&(s="file"),s!==r.type&&m.includes(s)&&y(a=>({...a,type:s}))},[r.url,r.type,m]);const f={external:{icon:G,label:"External URL",color:"text-green-600",placeholder:"https://example.com"},email:{icon:Z,label:"Email Address",color:"text-purple-600",placeholder:"user@example.com"},phone:{icon:te,label:"Phone Number",color:"text-orange-600",placeholder:"+1 (555) 123-4567"},file:{icon:I,label:"File Download",color:"text-red-600",placeholder:"/path/to/file.pdf"},anchor:{icon:X,label:"Anchor Link",color:"text-gray-600",placeholder:"#section-id"}},i=(t,s)=>{y(a=>({...a,[t]:s}))},j=(t,s,a)=>{y(n=>({...n,[t]:{...n[t],[s]:a}}))},M=(t,s)=>{if(!t)return{isValid:!0,message:""};switch(s){case"email":const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,n=t.replace("mailto:","");return{isValid:a.test(n),message:a.test(n)?"Valid email address":"Invalid email format"};case"phone":const u=/^(\+?\d[\d\s\-\(\)]*\d|\d)$/,p=t.replace("tel:","").replace(/[\s\-\(\)]/g,"");return{isValid:u.test(p),message:u.test(p)?"Valid phone number":"Invalid phone format"};default:try{return new URL(t),{isValid:!0,message:"Valid URL"}}catch{return{isValid:!1,message:"Invalid URL format"}}}},S=()=>{const t=[...r.custom_attributes,{name:"",value:""}];i("custom_attributes",t)},A=(t,s,a)=>{const n=r.custom_attributes.map((u,p)=>p===t?{...u,[s]:a}:u);i("custom_attributes",n)},z=t=>{const s=r.custom_attributes.filter((a,n)=>n!==t);i("custom_attributes",s)},D=t=>{const s=r.rel||[],a=s.includes(t)?s.filter(n=>n!==t):[...s,t];i("rel",a)},b=f[r.type]||f.external,P=b.icon;return e.jsxs("div",{className:"enhanced-link-picker space-y-4 border border-gray-200 rounded-lg p-4",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full bg-gray-50 ${b.color}`,children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:b.label})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"URL / Link Destination"}),e.jsxs("div",{className:"block",children:[e.jsx("input",{type:"text",value:r.url??"",onChange:t=>{i("url",t.target.value),E(M(t.target.value,r.type))},placeholder:b.placeholder,className:`flex-1 px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.isValid?"border-gray-300":"border-red-300"}`}),d.message&&e.jsxs("div",{className:`flex gap-2 mt-2 text-xs ${d.isValid?"text-green-600":"text-red-600"}`,children:[d.isValid?e.jsx(q,{className:"w-3 h-3"}):e.jsx(U,{className:"w-3 h-3"}),d.message]})]})]}),m.length>1&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Link Type"}),e.jsx("div",{className:"flex gap-2",children:m.map(t=>{const s=f[t],a=s.icon;return e.jsx("button",{type:"button",onClick:()=>i("type",t),className:`flex items-center justify-center gap-2 px-3 py-2 rounded-md border text-sm transition-colors ${r.type===t?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"}`,title:s.label,children:e.jsx(a,{className:"w-4 h-4"})},t)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Link Target"}),e.jsx("select",{value:r.target,onChange:t=>i("target",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:Object.entries(h).map(([t,s])=>e.jsx("option",{value:t,children:s},t))})]}),(v||N||k||_)&&e.jsxs("div",{className:"border-t pt-4 border-slate-200",children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[v&&e.jsx("button",{type:"button",onClick:()=>x(l==="advanced"?null:"advanced"),className:`p-2 rounded-md border transition-colors ${l==="advanced"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"}`,title:"Advanced Options",children:e.jsx(W,{className:"w-4 h-4"})}),N&&e.jsx("button",{type:"button",onClick:()=>x(l==="seo"?null:"seo"),className:`p-2 rounded-md border transition-colors ${l==="seo"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"}`,title:"SEO & Accessibility",children:e.jsx(ae,{className:"w-4 h-4"})}),k&&e.jsx("button",{type:"button",onClick:()=>x(l==="utm"?null:"utm"),className:`p-2 rounded-md border transition-colors ${l==="utm"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"}`,title:"UTM Tracking Parameters",children:e.jsx(ie,{className:"w-4 h-4"})}),_&&e.jsx("button",{type:"button",onClick:()=>x(l==="attributes"?null:"attributes"),className:`p-2 rounded-md border transition-colors ${l==="attributes"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"}`,title:"Custom HTML Attributes",children:e.jsx(le,{className:"w-4 h-4"})})]}),l==="advanced"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Attribute"}),e.jsx("input",{type:"text",value:r.id??"",onChange:t=>i("id",t.target.value),placeholder:"unique-id",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CSS Classes"}),e.jsx("input",{type:"text",value:r.class??"",onChange:t=>i("class",t.target.value),placeholder:"class1 class2",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l==="seo"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (Tooltip)"}),e.jsx("input",{type:"text",value:r.title??"",onChange:t=>i("title",t.target.value),placeholder:"Link description for accessibility",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rel Attributes"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:R.map(t=>e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:r.rel.includes(t),onChange:()=>D(t),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"capitalize",children:t})]},t))})]})]}),l==="utm"&&e.jsx("div",{className:"space-y-3",children:Object.entries(r.utm_parameters).map(([t,s])=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.replace("utm_","").replace("_"," ").toUpperCase()}),e.jsx("input",{type:"text",value:s??"",onChange:a=>j("utm_parameters",t,a.target.value),placeholder:`Enter ${t.replace("utm_","")}`,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]},t))}),l==="attributes"&&e.jsxs("div",{className:"space-y-4",children:[r.custom_attributes.map((t,s)=>e.jsxs("div",{className:"space-y-3 p-3 border border-gray-200 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Attribute ",s+1]}),e.jsx("button",{type:"button",onClick:()=>z(s),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(F,{className:"w-4 h-4"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attribute Name"}),e.jsx("input",{type:"text",value:t.name??"",onChange:a=>A(s,"name",a.target.value),placeholder:"data-id, aria-label, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attribute Value"}),e.jsx("input",{type:"text",value:t.value??"",onChange:a=>A(s,"value",a.target.value),placeholder:"Attribute value",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]},s)),e.jsxs("button",{type:"button",onClick:S,className:"flex items-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 border border-gray-300 rounded-md text-sm text-gray-700 w-full justify-center",children:[e.jsx(H,{className:"w-4 h-4"}),"Add Custom Attribute"]})]})]}),T&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-3",children:[e.jsx(L,{className:"w-4 h-4"}),"Responsive Behavior"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 pl-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(L,{className:"w-4 h-4 inline mr-1"}),"Desktop Target"]}),e.jsx("select",{value:r.responsive_behavior.desktop_target,onChange:t=>j("responsive_behavior","desktop_target",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:Object.entries(h).map(([t,s])=>e.jsx("option",{value:t,children:s},t))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(O,{className:"w-4 h-4 inline mr-1"}),"Mobile Target"]}),e.jsx("select",{value:r.responsive_behavior.mobile_target,onChange:t=>j("responsive_behavior","mobile_target",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:Object.entries(h).map(([t,s])=>e.jsx("option",{value:t,children:s},t))})]})]})]}),r.url&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(K,{className:"w-4 h-4"}),"Link Preview"]}),e.jsxs("div",{class:"bg-gray-50 p-3 rounded-md border border-gray-200",children:[e.jsx("div",{class:"text-sm text-gray-600 mb-1",children:"How this link will appear:"}),e.jsx("a",{href:r.url,target:r.target,rel:r.rel.join(" "),title:r.title,className:"text-blue-600 hover:text-blue-800 underline break-all block w-full text-xs break-all",onClick:t=>t.preventDefault(),children:r.text||r.url})]})]})]})};export{me as default};
